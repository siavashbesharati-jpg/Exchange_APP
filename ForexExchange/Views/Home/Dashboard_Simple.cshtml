@{
    ViewData["Title"] = "داشبورد";
}

<div class="container mt-4">
    @if (User.IsInRole("Admin") || User.IsInRole("Manager") || User.IsInRole("Staff"))
    {
        <!-- Simple Header -->
        <div class="row mb-4">
            <div class="col-12">
                <div class="card">
                    <div class="card-body text-center">
                        <h2>خوش آمدید</h2>
                        <p class="text-muted">سامانه مدیریت ارز</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Currency Pool -->
        <div class="row mb-4">
            <div class="col-12">
                @await Html.PartialAsync("_PoolWidget", ViewBag.CurrencyPools as List<ForexExchange.Models.CurrencyPool>)
            </div>
        </div>

        <!-- Simple Actions -->
        <div class="row mb-4">
            <div class="col-md-4">
                <div class="card h-100">
                    <div class="card-body text-center">
                        <i class="fas fa-plus-circle fa-3x text-success mb-3"></i>
                        <h5>ثبت معامله</h5>
                        <p class="text-muted">ایجاد معامله جدید</p>
                        <a href="@Url.Action("Create", "Orders")" class="btn btn-success">شروع</a>
                    </div>
                </div>
            </div>
            
            <div class="col-md-4">
                <div class="card h-100">
                    <div class="card-body text-center">
                        <i class="fas fa-user-plus fa-3x text-info mb-3"></i>
                        <h5>ثبت مشتری</h5>
                        <p class="text-muted">اضافه کردن مشتری جدید</p>
                        <a href="@Url.Action("Create", "Customers")" class="btn btn-info">شروع</a>
                    </div>
                </div>
            </div>
            
            <div class="col-md-4">
                <div class="card h-100">
                    <div class="card-body text-center">
                        <i class="fas fa-file-invoice fa-3x text-warning mb-3"></i>
                        <h5>ایجاد سند</h5>
                        <p class="text-muted">ثبت سند حسابداری</p>
                        <a href="@Url.Action("Create", "AccountingDocuments")" class="btn btn-warning">شروع</a>
                    </div>
                </div>
            </div>
        </div>

        <!-- Quick Links -->
        <div class="row">
            <div class="col-12">
                <div class="card">
                    <div class="card-header">
                        <h5>دسترسی سریع</h5>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-2">
                                <a href="@Url.Action("Index", "Orders")" class="btn btn-outline-primary btn-sm w-100 mb-2">معاملات</a>
                            </div>
                            <div class="col-md-2">
                                <a href="@Url.Action("Index", "Customers")" class="btn btn-outline-primary btn-sm w-100 mb-2">مشتریان</a>
                            </div>
                            <div class="col-md-2">
                                <a href="@Url.Action("Index", "ExchangeRates")" class="btn btn-outline-primary btn-sm w-100 mb-2">نرخ ارز</a>
                            </div>
                            <div class="col-md-2">
                                <a href="@Url.Action("Index", "AccountingDocuments")" class="btn btn-outline-primary btn-sm w-100 mb-2">اسناد</a>
                            </div>
                            <div class="col-md-2">
                                <a href="@Url.Action("Index", "Reports")" class="btn btn-outline-primary btn-sm w-100 mb-2">گزارشات</a>
                            </div>
                            <div class="col-md-2">
                                <a href="@Url.Action("Index", "Management")" class="btn btn-outline-secondary btn-sm w-100 mb-2">مدیریت</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    }
    else
    {
        <!-- Customer Simple View -->
        <div class="row">
            <div class="col-12">
                <div class="card">
                    <div class="card-body text-center">
                        <h3>خوش آمدید</h3>
                        <p>برای دسترسی به خدمات ما، لطفا وارد شوید</p>
                        <a href="@Url.Action("Login", "Account")" class="btn btn-primary">ورود</a>
                        <a href="@Url.Action("Register", "Account")" class="btn btn-outline-primary">ثبت نام</a>
                    </div>
                </div>
            </div>
        </div>
    }
</div>
